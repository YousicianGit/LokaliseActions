name: 'Update translations'
description: 'Updates translations from Lokalise for the current branch'
inputs:
  localization-directory:
    description: The path to the localization directory. This should have directories inside for each language.
    required: true
runs:
  using: "composite"
  steps:
  - name: Update translatios
    run: update_translations.sh ${{ inputs.localization-directory }} --branch ${{ github.head_ref }} --stage-changes --unreviewed
    shell: bash
  - name: Commit
    run: git -c user.name="github-actions[bot]" -c user.email="github-actions[bot]@users.noreply.github.com" \
      commit -m "Updated translations" \
      --author="${{ github.actor }} <${{ github.actor }}@users.noreply.github.com>" \
    shell: bash
  - name: Push
    run: git push origin
    shell: bash
